{
  "version": 3,
  "sources": ["../../../../Code/portfolio/client/netlify/functions/emailer.js"],
  "sourceRoot": "C:/Users/John1/AppData/Local/Temp/tmp-22408-YMYEEYqtqhcV",
  "sourcesContent": ["export const handler = async (event) => {\r\n  const RESEND_API_KEY = import.meta.env.VITE_RESEND_API_KEY;\r\n  const body = JSON.parse(event.body);\r\n  console.log('Inside handler');\r\n  // console.log(body);\r\n  const name = body.name;\r\n  const email = body.email;\r\n  const message = body.message;\r\n  const timestamp = new Date().toLocaleString();\r\n  console.log(name);\r\n  console.log(email);\r\n  console.log(message);\r\n  console.log(timestamp);\r\n  // return {\r\n  //   statusCode: 200,\r\n  //   headers:{\r\n  //   \"Access-Control-Allow-Origin\": \"*\",\r\n  //   \"Access-Control-Allow-Methods\": \"*\",\r\n  //   \"Access-Control-Allow-Headers\": \"*\",\r\n  //   },\r\n  //   body: 'Hello from Lambda!',\r\n  // }\r\n  const res = await fetch('https://api.resend.com/emails', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${RESEND_API_KEY}`,\r\n    },\r\n    body: JSON.stringify({\r\n      from: 'contact@johnhin.es',\r\n      to: ['jhn.hines@gmail.com'],\r\n      subject: '! Contact Form Request !',\r\n      html: `\r\n        <strong>Contact Name</strong>: ${name}\r\n        <br>\r\n        <strong>Contact Email:</strong> ${email}\r\n        <br>\r\n        <strong>Contact Date:</strong> ${timestamp}\r\n        <br>\r\n        <strong>Message:</strong>\r\n        <br>\r\n        ${message}\r\n        `,\r\n    }),\r\n  });\r\n  \r\n  if (res.ok) {\r\n    const data = await res.json();\r\n    console.log(\"res was okay\");\r\n    console.log(data.body);\r\n    return {\r\n      statusCode: 200,\r\n      headers:{\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n        \"Access-Control-Allow-Methods\": \"*\",\r\n        \"Access-Control-Allow-Headers\": \"*\",\r\n      },\r\n      body: data,\r\n    };\r\n  }\r\n};"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAM,UAAU,OAAO,UAAU;AACtC,QAAM,iBAAiB,YAAY,IAAI;AACvC,QAAM,OAAO,KAAK,MAAM,MAAM,IAAI;AAClC,UAAQ,IAAI,gBAAgB;AAE5B,QAAM,OAAO,KAAK;AAClB,QAAM,QAAQ,KAAK;AACnB,QAAM,UAAU,KAAK;AACrB,QAAM,aAAY,oBAAI,KAAK,GAAE,eAAe;AAC5C,UAAQ,IAAI,IAAI;AAChB,UAAQ,IAAI,KAAK;AACjB,UAAQ,IAAI,OAAO;AACnB,UAAQ,IAAI,SAAS;AAUrB,QAAM,MAAM,MAAM,MAAM,iCAAiC;AAAA,IACvD,QAAQ;AAAA,IACR,SAAS;AAAA,MACP,gBAAgB;AAAA,MAChB,iBAAiB,UAAU,cAAc;AAAA,IAC3C;AAAA,IACA,MAAM,KAAK,UAAU;AAAA,MACnB,MAAM;AAAA,MACN,IAAI,CAAC,qBAAqB;AAAA,MAC1B,SAAS;AAAA,MACT,MAAM;AAAA,yCAC6B,IAAI;AAAA;AAAA,0CAEH,KAAK;AAAA;AAAA,yCAEN,SAAS;AAAA;AAAA;AAAA;AAAA,UAIxC,OAAO;AAAA;AAAA,IAEb,CAAC;AAAA,EACH,CAAC;AAED,MAAI,IAAI,IAAI;AACV,UAAM,OAAO,MAAM,IAAI,KAAK;AAC5B,YAAQ,IAAI,cAAc;AAC1B,YAAQ,IAAI,KAAK,IAAI;AACrB,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,SAAQ;AAAA,QACN,+BAA+B;AAAA,QAC/B,gCAAgC;AAAA,QAChC,gCAAgC;AAAA,MAClC;AAAA,MACA,MAAM;AAAA,IACR;AAAA,EACF;AACF;",
  "names": []
}
